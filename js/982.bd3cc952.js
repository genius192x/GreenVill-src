"use strict";(self["webpackChunkgreenvill"]=self["webpackChunkgreenvill"]||[]).push([[982],{982:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var l=n(9269),a=n(3201),o=n(5102),i=n(6237),r=n(9503);const s=new r.KU;s.setEndpoint("https://cloud.appwrite.io/v1").setProject("65679c67792fb8acf4ed");const u=new r.mR(s),c={class:"q-pa-md",style:{"max-width":"400px"}},d={class:"q-pa-md q-gutter-sm"};var v={__name:"UserView",setup(e){const t=(0,i.iH)(null),n=(0,i.iH)(""),s=(0,i.iH)(""),v=(0,i.iH)(!0),f=(0,i.iH)(""),p=async(e,n)=>{await u.createEmailSession(e,n),t.value=await u.get()},m=async()=>{await u.create(r.ID.unique(),n.value,s.value,f.value),p(n.value,s.value)},g=async()=>{await u.deleteSession("current"),t.value=null};return(e,i)=>{const r=(0,l.up)("q-input"),u=(0,l.up)("q-icon"),h=(0,l.up)("q-form"),y=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("p",null,(0,a.zw)(t.value?`Logged in as ${t.value.name}`:"Not logged in"),1),(0,l._)("form",null,[(0,l.wy)((0,l._)("input",{type:"text",placeholder:"Name","onUpdate:modelValue":i[0]||(i[0]=e=>f.value=e)},null,512),[[o.nr,f.value]]),(0,l._)("button",{type:"button",onClick:i[1]||(i[1]=e=>p(n.value,s.value))},"Login"),(0,l._)("button",{type:"button",onClick:m}," Register "),(0,l._)("button",{type:"button",onClick:g}," Logout ")])]),(0,l._)("div",c,[(0,l.Wm)(h,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{filled:"",modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=e=>n.value=e),label:"Email*",hint:"Your email","lazy-rules":"",rules:"email"},null,8,["modelValue"]),(0,l.Wm)(r,{modelValue:s.value,"onUpdate:modelValue":i[4]||(i[4]=e=>s.value=e),filled:"",type:v.value?"password":"text",hint:"Password with toggle",rules:[e=>e.length>8||"8 char min"]},{append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:v.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:i[3]||(i[3]=e=>v.value=!v.value)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,l.Wm)(r,{filled:"",modelValue:f.value,"onUpdate:modelValue":i[5]||(i[5]=e=>f.value=e),label:"Your name *",hint:"Name and surname","lazy-rules":"",rules:[e=>e&&e.length>3||"Please type something"]},null,8,["modelValue","rules"])])),_:1},8,["onSubmit","onReset"]),(0,l._)("div",d,[(0,l.Wm)(y,{color:"primary",icon:"check",onClick:g},{default:(0,l.w5)((()=>[(0,l.Uk)("logout")])),_:1}),(0,l.Wm)(y,{color:"primary",icon:"check",onClick:i[6]||(i[6]=e=>p(n.value,s.value))},{default:(0,l.w5)((()=>[(0,l.Uk)("Login")])),_:1}),(0,l.Wm)(y,{color:"primary",icon:"check",onClick:m},{default:(0,l.w5)((()=>[(0,l.Uk)("Register")])),_:1})])])],64)}}},f=(n(4719),n(3856)),p=n(3027),m=n(6146),g=n(64),h=n(4300),y=n(6380),w=(0,f.L)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const a=(0,l.FN)(),o=(0,i.iH)(null);let r=0;const s=[];function u(t){const l="boolean"===typeof t?t:!0!==e.noErrorFocus,a=++r,o=(e,t)=>{n("validation"+(!0===e?"Success":"Error"),t)},i=e=>{const t=e.validate();return"function"===typeof t.then?t.then((t=>({valid:t,comp:e})),(t=>({valid:!1,comp:e,err:t}))):Promise.resolve({valid:t,comp:e})},u=!0===e.greedy?Promise.all(s.map(i)).then((e=>e.filter((e=>!0!==e.valid)))):s.reduce(((e,t)=>e.then((()=>i(t).then((e=>{if(!1===e.valid)return Promise.reject(e)}))))),Promise.resolve()).catch((e=>[e]));return u.then((e=>{if(void 0===e||0===e.length)return a===r&&o(!0),!0;if(a===r){const{comp:t,err:n}=e[0];if(void 0!==n&&console.error(n),o(!1,t),!0===l){const t=e.find((({comp:e})=>"function"===typeof e.focus&&!1===(0,y.$D)(e.$)));void 0!==t&&t.comp.focus()}}return!1}))}function c(){r++,s.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function d(t){void 0!==t&&(0,p.NS)(t);const l=r+1;u().then((a=>{l===r&&!0===a&&(void 0!==e.onSubmit?n("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function v(t){void 0!==t&&(0,p.NS)(t),n("reset"),(0,l.Y3)((()=>{c(),!0===e.autofocus&&!0!==e.noResetFocus&&f()}))}function f(){(0,m.jd)((()=>{if(null===o.value)return;const e=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus({preventScroll:!0})}))}(0,l.JJ)(h.vh,{bindComponent(e){s.push(e)},unbindComponent(e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}});let w=!1;return(0,l.se)((()=>{w=!0})),(0,l.dl)((()=>{!0===w&&!0===e.autofocus&&f()})),(0,l.bv)((()=>{!0===e.autofocus&&f()})),Object.assign(a.proxy,{validate:u,resetValidation:c,submit:d,reset:v,focus:f,getValidationComponents:()=>s}),()=>(0,l.h)("form",{class:"q-form",ref:o,onSubmit:d,onReset:v},(0,g.KR)(t.default))}}),k=n(2019),b=n(6809);const x={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},S={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},M=Object.keys(S);M.forEach((e=>{S[e].regex=new RegExp(S[e].pattern)}));const C=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+M.join("")+"])|(.)","g"),F=/[.*+?^${}()|[\]\\]/g,V=String.fromCharCode(1),R={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function E(e,t,n,a){let o,r,s,u,c,d;const v=(0,i.iH)(null),f=(0,i.iH)(m());function p(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function m(){if(h(),!0===v.value){const t=E(_(e.modelValue));return!1!==e.fillMask?A(t):t}return e.modelValue}function g(e){if(e<o.length)return o.slice(-e);let t="",n=o;const l=n.indexOf(V);if(l>-1){for(let l=e-n.length;l>0;l--)t+=V;n=n.slice(0,l)+t+n.slice(l)}return n}function h(){if(v.value=void 0!==e.mask&&0!==e.mask.length&&p(),!1===v.value)return u=void 0,o="",void(r="");const t=void 0===x[e.mask]?e.mask:x[e.mask],n="string"===typeof e.fillMask&&0!==e.fillMask.length?e.fillMask.slice(0,1):"_",l=n.replace(F,"\\$&"),a=[],i=[],c=[];let d=!0===e.reverseFillMask,f="",m="";t.replace(C,((e,t,n,l,o)=>{if(void 0!==l){const e=S[l];c.push(e),m=e.negate,!0===d&&(i.push("(?:"+m+"+)?("+e.pattern+"+)?(?:"+m+"+)?("+e.pattern+"+)?"),d=!1),i.push("(?:"+m+"+)?("+e.pattern+")?")}else if(void 0!==n)f="\\"+("\\"===n?"":n),c.push(n),a.push("([^"+f+"]+)?"+f+"?");else{const e=void 0!==t?t:o;f="\\"===e?"\\\\\\\\":e.replace(F,"\\\\$&"),c.push(e),a.push("([^"+f+"]+)?"+f+"?")}}));const g=new RegExp("^"+a.join("")+"("+(""===f?".":"[^"+f+"]")+"+)?"+(""===f?"":"["+f+"]*")+"$"),h=i.length-1,y=i.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+l+"*"+t):n===h?new RegExp("^"+t+"("+(""===m?".":m)+"+)?"+(!0===e.reverseFillMask?"$":l+"*")):new RegExp("^"+t)));s=c,u=t=>{const n=g.exec(!0===e.reverseFillMask?t:t.slice(0,c.length+1));null!==n&&(t=n.slice(1).join(""));const l=[],a=y.length;for(let e=0,o=t;e<a;e++){const t=y[e].exec(o);if(null===t)break;o=o.slice(t.shift().length),l.push(...t)}return 0!==l.length?l.join(""):t},o=c.map((e=>"string"===typeof e?e:V)).join(""),r=o.split(V).join(n)}function y(t,i,s){const u=a.value,d=u.selectionEnd,v=u.value.length-d,p=_(t);!0===i&&h();const m=E(p),g=!1!==e.fillMask?A(m):m,y=f.value!==g;u.value!==g&&(u.value=g),!0===y&&(f.value=g),document.activeElement===u&&(0,l.Y3)((()=>{if(g!==r)if("insertFromPaste"!==s||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(s)>-1){const t=!0===e.reverseFillMask?0===d?g.length>m.length?1:0:Math.max(0,g.length-(g===r?0:Math.min(m.length,v)+1))+1:d;u.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===y){const e=Math.max(0,g.length-(g===r?0:Math.min(m.length,v+1)));1===e&&1===d?u.setSelectionRange(e,e,"forward"):k.rightReverse(u,e)}else{const e=g.length-v;u.setSelectionRange(e,e,"backward")}else if(!0===y){const e=Math.max(0,o.indexOf(V),Math.min(m.length,d)-1);k.right(u,e)}else{const e=d-1;k.right(u,e)}else{const e=u.selectionEnd;let t=d-1;for(let n=c;n<=t&&n<e;n++)o[n]!==V&&t++;k.right(u,t)}else{const t=!0===e.reverseFillMask?r.length:0;u.setSelectionRange(t,t,"forward")}}));const w=!0===e.unmaskedValue?_(g):g;String(e.modelValue)===w||null===e.modelValue&&""===w||n(w,!0)}function w(e,t,n){const l=E(_(e.value));t=Math.max(0,o.indexOf(V),Math.min(l.length,t)),c=t,e.setSelectionRange(t,n,"forward")}(0,l.YP)((()=>e.type+e.autogrow),h),(0,l.YP)((()=>e.mask),(n=>{if(void 0!==n)y(f.value,!0);else{const n=_(f.value);h(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,l.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===v.value&&y(f.value,!0)})),(0,l.YP)((()=>e.unmaskedValue),(()=>{!0===v.value&&y(f.value)}));const k={left(e,t){const n=-1===o.slice(t-1).indexOf(V);let l=Math.max(0,t-1);for(;l>=0;l--)if(o[l]===V){t=l,!0===n&&t++;break}if(l<0&&void 0!==o[t]&&o[t]!==V)return k.right(e,0);t>=0&&e.setSelectionRange(t,t,"backward")},right(e,t){const n=e.value.length;let l=Math.min(n,t+1);for(;l<=n;l++){if(o[l]===V){t=l;break}o[l-1]===V&&(t=l)}if(l>n&&void 0!==o[t-1]&&o[t-1]!==V)return k.left(e,n);e.setSelectionRange(t,t,"forward")},leftReverse(e,t){const n=g(e.value.length);let l=Math.max(0,t-1);for(;l>=0;l--){if(n[l-1]===V){t=l;break}if(n[l]===V&&(t=l,0===l))break}if(l<0&&void 0!==n[t]&&n[t]!==V)return k.rightReverse(e,0);t>=0&&e.setSelectionRange(t,t,"backward")},rightReverse(e,t){const n=e.value.length,l=g(n),a=-1===l.slice(0,t+1).indexOf(V);let o=Math.min(n,t+1);for(;o<=n;o++)if(l[o-1]===V){t=o,t>0&&!0===a&&t--;break}if(o>n&&void 0!==l[t-1]&&l[t-1]!==V)return k.leftReverse(e,n);e.setSelectionRange(t,t,"forward")}};function M(e){t("click",e),d=void 0}function R(n){if(t("keydown",n),!0===(0,b.Wm)(n)||!0===n.altKey)return;const l=a.value,o=l.selectionStart,i=l.selectionEnd;if(n.shiftKey||(d=void 0),37===n.keyCode||39===n.keyCode){n.shiftKey&&void 0===d&&(d="forward"===l.selectionDirection?o:i);const t=k[(39===n.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];if(n.preventDefault(),t(l,d===o?i:o),n.shiftKey){const e=l.selectionStart;l.setSelectionRange(Math.min(d,e),Math.max(d,e),"forward")}}else 8===n.keyCode&&!0!==e.reverseFillMask&&o===i?(k.left(l,o),l.setSelectionRange(l.selectionStart,i,"backward")):46===n.keyCode&&!0===e.reverseFillMask&&o===i&&(k.rightReverse(l,i),l.setSelectionRange(o,l.selectionEnd,"forward"))}function E(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return q(t);const n=s;let l=0,a="";for(let e=0;e<n.length;e++){const o=t[l],i=n[e];if("string"===typeof i)a+=i,o===i&&l++;else{if(void 0===o||!i.regex.test(o))return a;a+=void 0!==i.transform?i.transform(o):o,l++}}return a}function q(e){const t=s,n=o.indexOf(V);let l=e.length-1,a="";for(let o=t.length-1;o>=0&&l>-1;o--){const i=t[o];let r=e[l];if("string"===typeof i)a=i+a,r===i&&l--;else{if(void 0===r||!i.regex.test(r))return a;do{a=(void 0!==i.transform?i.transform(r):r)+a,l--,r=e[l]}while(n===o&&void 0!==r&&i.regex.test(r))}}return a}function _(e){return"string"!==typeof e||void 0===u?"number"===typeof e?u(""+e):e:u(e)}function A(t){return r.length-t.length<=0?t:!0===e.reverseFillMask&&0!==t.length?r.slice(0,-t.length)+t:t+r.slice(t.length)}return{innerValue:f,hasMask:v,moveCursorForPaste:w,updateMaskValue:y,onMaskedKeydown:R,onMaskedClick:M}}var q=n(9724);function _(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,l.Fl)((()=>{if("file"===e.type)return n()})):(0,l.Fl)(n)}var A=n(447),P=n(3613),Y=(0,f.L)({name:"QInput",inheritAttrs:!1,props:{...k.Cl,...R,...q.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...k.HJ,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:a}=(0,l.FN)(),{$q:o}=a,r={};let s,u,c,d=NaN,v=null;const f=(0,i.iH)(null),g=(0,q.Do)(e),{innerValue:h,hasMask:y,moveCursorForPaste:w,updateMaskValue:b,onMaskedKeydown:x,onMaskedClick:S}=E(e,t,L,f),M=_(e,!0),C=(0,l.Fl)((()=>(0,k.yV)(h.value))),F=(0,A.Z)(Z),V=(0,k.tL)(),R=(0,l.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),Y=(0,l.Fl)((()=>!0===R.value||["text","search","url","tel","password"].includes(e.type))),O=(0,l.Fl)((()=>{const t={...V.splitAttrs.listeners.value,onInput:Z,onPaste:T,onChange:U,onBlur:$,onFocus:p.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=F,!0===y.value&&(t.onKeydown=x,t.onClick=S),!0===e.autogrow&&(t.onAnimationend=H),t})),j=(0,l.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:g.value,...V.splitAttrs.attributes.value,id:V.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===R.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function N(){(0,m.jd)((()=>{const e=document.activeElement;null===f.value||f.value===e||null!==e&&e.id===V.targetUid.value||f.value.focus({preventScroll:!0})}))}function z(){null!==f.value&&f.value.select()}function T(n){if(!0===y.value&&!0!==e.reverseFillMask){const e=n.target;w(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function Z(n){if(!n||!n.target)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const a=n.target.value;if(!0!==n.target.qComposing){if(!0===y.value)b(a,!1,n.inputType);else if(L(a),!0===Y.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,l.Y3)((()=>{n.target===document.activeElement&&0===a.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&B()}else r.value=a}function H(e){t("animationend",e),B()}function L(n,a){c=()=>{v=null,"number"!==e.type&&!0===r.hasOwnProperty("value")&&delete r.value,e.modelValue!==n&&d!==n&&(d=n,!0===a&&(u=!0),t("update:modelValue",n),(0,l.Y3)((()=>{d===n&&(d=NaN)}))),c=void 0},"number"===e.type&&(s=!0,r.value=n),void 0!==e.debounce?(null!==v&&clearTimeout(v),r.value=n,v=setTimeout(c,e.debounce)):c()}function B(){requestAnimationFrame((()=>{const e=f.value;if(null!==e){const t=e.parentNode.style,{scrollTop:n}=e,{overflowY:l,maxHeight:a}=!0===o.platform.is.firefox?{}:window.getComputedStyle(e),i=void 0!==l&&"scroll"!==l;!0===i&&(e.style.overflowY="hidden"),t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",!0===i&&(e.style.overflowY=parseInt(a,10)<e.scrollHeight?"auto":"hidden"),t.marginBottom="",e.scrollTop=n}}))}function U(e){F(e),null!==v&&(clearTimeout(v),v=null),void 0!==c&&c(),t("change",e.target.value)}function $(t){void 0!==t&&(0,p.sT)(t),null!==v&&(clearTimeout(v),v=null),void 0!==c&&c(),s=!1,u=!1,delete r.value,"file"!==e.type&&setTimeout((()=>{null!==f.value&&(f.value.value=void 0!==h.value?h.value:"")}))}function D(){return!0===r.hasOwnProperty("value")?r.value:void 0!==h.value?h.value:""}(0,l.YP)((()=>e.type),(()=>{f.value&&(f.value.value=e.modelValue)})),(0,l.YP)((()=>e.modelValue),(t=>{if(!0===y.value){if(!0===u&&(u=!1,String(t)===d))return;b(t)}else h.value!==t&&(h.value=t,"number"===e.type&&!0===r.hasOwnProperty("value")&&(!0===s?s=!1:delete r.value));!0===e.autogrow&&(0,l.Y3)(B)})),(0,l.YP)((()=>e.autogrow),(e=>{!0===e?(0,l.Y3)(B):null!==f.value&&n.rows>0&&(f.value.style.height="auto")})),(0,l.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,l.Y3)(B)})),(0,l.Jd)((()=>{$()})),(0,l.bv)((()=>{!0===e.autogrow&&B()})),Object.assign(V,{innerValue:h,fieldClass:(0,l.Fl)((()=>"q-"+(!0===R.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,l.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&0!==e.shadowText.length)),inputRef:f,emitValue:L,hasValue:C,floatingLabel:(0,l.Fl)((()=>!0===C.value&&("number"!==e.type||!1===isNaN(h.value))||(0,k.yV)(e.displayValue))),getControl:()=>(0,l.h)(!0===R.value?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...j.value,...O.value,..."file"!==e.type?{value:D()}:M.value}),getShadowControl:()=>(0,l.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===R.value?"":" text-no-wrap")},[(0,l.h)("span",{class:"invisible"},D()),(0,l.h)("span",e.shadowText)])});const K=(0,k.ZP)(V);return Object.assign(a,{focus:N,select:z,getNativeElement:()=>f.value}),(0,P.g)(a,"nativeEl",(()=>f.value)),K}}),O=n(4633),j=n(570),N=n(1410),z=n.n(N);const T=v;var Z=T;z()(v,"components",{QForm:w,QInput:Y,QIcon:O.Z,QBtn:j.Z})}}]);
//# sourceMappingURL=982.bd3cc952.js.map